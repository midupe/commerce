{% extends "auctions/layout.html" %}

{% block body %}
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    .sidebar {
        margin: 0;
        padding: 0;
        width: 240px;
        background-color: #E5E5E5;
        position: absolute;
        height: 100%;
        overflow: auto;
    }

    .sidebar a {
        display: block;
        color: black;
        padding: 6px 8px 6px 16px;
        font-size: 20px;
        text-decoration: none;
    }

    .sidebar a:hover:not(.active) {
        background-color: #555;
        color: white;
    }

    div.content {
        margin-left: 240px;
        padding: 1px 16px;
        height: 100%;
    }

    @media screen and (max-width: 700px) {
        .sidebar {
            width: 100%;
            height: auto;
            position: relative;
        }

        .sidebar a {
            float: left;
        }

        div.content {
            margin-left: 0;
        }
    }

    @media screen and (max-width: 400px) {
        .sidebar a {
            text-align: center;
            float: none;
        }
    }
</style>

<div class="sidebar">
    <h2 style="padding: 10px;">Categories</h2>
    {% for category in categories %}
    <a href="{{category.name}}">{{category.name}}</a>
    {% endfor %}
    <a href="undefined">Undefined</a>
</div>

<div class="content">
    {% for listing in listings %}
    {% if listing.status == "activated" %}
    <a href="/listing/{{listing.id}}" style="text-decoration: none;color: black;">
        <div class="row border" style="padding: 10px;">
            <div class="col-md-7">
                {% if listing.main_img%}
                <img style="max-width: 40%; height: auto;" class="img-fluid rounded mb-3 mb-md-0"
                    src="{{MEDIA_URL}}{{listing.main_img}}" alt="">
                {%endif%}
            </div>
            <div class="col-md-5">
                <h3>{{listing.name}}</h3>
                <p>{{listing.desc}}</p>
                {% if listing.category is not none%}
                Category: {{listing.category.name}}<p></p>
                {%endif%}
                <p style="padding-top: 10px;"><b>Price: </b>
                    {% if listing.last_bid%}
                    {{listing.last_bid}}
                    {% else %}
                    {{listing.starting_bid}}
                    {% endif %}
                    â‚¬</p>
                <p class="text-secondary">Created {{listing.date_created}}</p>
            </div>
        </div>
    </a>
    {%endif%}
    {% empty %}
    Nothing to show!
    {% endfor %}
</div>

{% endblock%}